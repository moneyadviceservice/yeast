// Callout containing a pull quotation or an emphasised fact from the many body of the content. Can also contain a link
// to an external source. Can contain a heading, but this is optional. Original markup is generated by the
// CMS (which is why it is not following "strict" BEM.) but now is also used by tools
//
// Styleguide Call out

$callout-border-top-height: 45px;

%callout-icon {
  @include body(22, 30);
  border-radius: 50%;
  display: inline-block;
  vertical-align: middle;
  height: 30px;
  width: 30px;
  background: white;
  margin-right: $baseline-unit;
  font-weight: 700;
  text-align: center;
}

.callout {
  position: relative;
  margin: $baseline-unit*2 0;
  border: 2px solid $color-callout-general;
  border-top: $callout-border-top-height solid $color-callout-general;
  clear: right;

  h3 {
    @extend %heading-small;
    color: white;
    background: $color-callout-general;
    margin: 0;
    margin-top: -$callout-border-top-height;
    padding: $baseline-unit $baseline-unit $baseline-unit $baseline-unit*3;

    &:before {
      @extend %callout-icon;
      content: '?';
      color: $color-callout-general;
    }
  }

  p:first-child:before {
    @extend %callout-icon;
    content: '?';
    color: $color-callout-general;
    position: absolute;
    top: -$callout-border-top-height + 7px;
  }

  p {
    @extend %type-callout;
    margin: $baseline-unit*3;
  }

  .editorial & {

    @include respond-to($mq-l) {
      @include column(3.5, 7);
      float: right;
      margin-bottom: $baseline-unit*2;
    }
  }
}

.callout--tool {
  border: 2px solid $color-callout-tool;
  border-top: $callout-border-top-height solid $color-callout-tool;
  h3 {
    background: $color-callout-tool;
    &:before {
      @extend %callout-icon;
      content: '';
      vertical-align: middle;
    }
  }
  p:first-child:before {
    content: " ";
  }
}

.callout--instructional {
  background-color: $color-panel-background;
}
